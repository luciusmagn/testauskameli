#!/bin/sh
# Compile and run a Haskell program
# $1 = filename
# $2 = extension (unused)

ghc -o main $GHC_ARGS "$1" || exit 1
timeout -s KILL "$KAMELI_TIMELIMIT" s6-softlimit -a "$KAMELI_MEMLIMIT" -f "$KAMELI_FILELIMIT" -p "$KAMELI_PROCESSLIMIT" ./main || exit 1
